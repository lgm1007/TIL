## VPC 엔드포인트 (End Point)
**VPC 엔드포인트**: VPC 내 리소스들이 VPC 외부의 서비스 (S3, CloudWatch, ...) 등에 접근할 때 인터넷 게이트웨이, NAT 게이트웨이 등의 외부 인터넷 전송 서비스를 타지 않고 **내부 네트워크를 통해** 접근할 수 있도록 지원하는 서비스이다.

AWS VPC는 사설 네트워크로 이루어진 사용자 정의 네트워크이다.  
VPC 내 EC2, RDS, ELB 등을 탑재하고 ENI (Elastic Network Interface)에 사설 IP 또는 공인 IP를 부여하여 사용한다.

하지만 다른 AWS 서비스인 S3, CloudWatch, DynamoDB, API 게이트웨이 등은, 개발자가 설정한 AWS의 리전 내에 존재하지만, VPC 내부에 설치하는 서비스는 아니며, 따로 **공인 IP를 가지고 외부에서 접근하는 서비스**들이다.

만약 VPC의 Private 서브넷에 위치한 EC2에서 S3의 API를 호출하면 어떻게 될까?  
S3에 접속해 정보를 가져와야 하기 때문에 외부에서의 접근이 필요하다. 만약 **Bastion Host**와 NAT 게이트웨이를 설정한 VPC 구성일 경우,  
`EC2 → NAT 게이트웨이 → 라우터 → 인터넷 게이트웨이 → 외부 인터넷 → S3` 이런 식으로 이동한다.

이는 결국 VPC 내부 리소스와 기타 AWS 서비스와 통신 시 외부 인터넷에 공개적으로 연결되며 트래픽이 노출된다. 은밀하게 처리해야 할 API 호출이라면 문제가 되며, VPC 밖에서 들어오는 트래픽에는 과금이 발생한다.  
이를 해결하기 위한 방법이 바로 **VPC 엔드포인트**이다.

정리하자면, VPC 엔드포인트는 AWS 여러 서비스들과 VPC를 연결해주는 중간 매개체로, AWS에서 VPC 바깥으로 트래픽이 나가지 않고 AWS의 여러 서비스들을 사용할 수 있게 만들어주는 서비스이다.

## VPC 엔드포인트의 이점
1. 보안 강화
2. 비용 절감 효과
3. 서비스 제약
4. VPC 종속
5. 권한 제어

## VPC 엔드포인트 종류
- **Interface Endpoint**
    - Private IP를 만들어서 서비스로 연결해준다.
    - 각 서브넷마다 Elastic Network Interface를 생성하여 외부 서비스에 접근하기 위한 VPC 엔드포인트
    - 외부 인터넷을 통하지 않고 해당 네트워크 인터페이스를 통해 외부 서비스로 접근이 가능하게 된다.
- **Gateway Endpoint**
    - Gateway Endpoint를 생성한 후, 서브넷에서 라우팅만을 추가로 생성한다.
    - 라우팅은 자동으로 생성되므로 변경할 수 없어서, 해당 라우팅 테이블 경로를 보고 VPC 엔드포인트를 통해 S3 등 서비스에 접근하는 형태이다.
    - S3와 DynamoDB 등의 일부 서비스만 지원한다.
