## 프로토콜
- 클라이언트와 서버가 정보를 교환할 수 있도록 하는 **메시지 형식에 대한 규칙**
- 수신 호스트가 전송받은 메시지를 이해하려면 설계된 규칙에 따라 작성된 데이터 형식이어야 한다.

## TCP: 전송 제어 프로토콜
- IP(Internet Protocol) 규칙에서 통신할 때 부족했던 여러 단점들 (패킷 순서가 변경되거나 패킷 유실) 을 커버해, 패킷 전송을 제어하여 신뢰성을 보증하는 프로토콜
- IP가 목적지까지 다다랐다는 내용이었다면, TCP는 올바르게 도착했는지, 정확히 누구에게 전달되어야 하는지 판단하며 처리한다고 생각하면 된다.
- 반드시 수신자가 정보를 받아야하는 신뢰성 있는 통신이 필요할 때 사용된다.

### TCP의 통신 확인
- **3 Way handshake**와 **4 Way handshake** 과정
    - 통신을 시작할 때와 마칠 때 서로 준비가 되어있는지를 미리 먼저 물어보고 패킷을 전송할 순서를 정하고 통신을 시작하는 과정
    - 3 Way는 통신을 시작할 때, 4 Way는 통신을 마칠 때 거치는 과정
- 리눅스에서 `tcpdump` 명령어를 설치하여 실행한 후 데이터 통신을 하면 시각적으로 통신 과정을 볼 수 있다.

## TCP의 전송 제어 기법
### 1. 흐름 제어 (Flow Control)
- 수신자가 처리할 수 있는 데이터 속도가 다르기 때문에, 송신 측이 수신 측의 데이터 처리 속도를 파악하고 얼마나 빠르게 데이터를 전송할 지 제어
- **슬라이딩 윈도우** (Sliding Window) 방식 사용
    - Window라는 데이터를 담는 공간을 동적으로 조절하여 데이터량 조절

### 2. 오류 제어 (Error Control)
- 통신 도중 데이터가 유실되거나 잘못된 데이터가 수신되었을 때 대처
- Go Bank N 기법과 선택적 재전송 (Selective Repeat) 기법 사용
    - Go Bank N 기법: 어느 데이터로부터 오류가 발생했는지 파악하여, 그 부분만 다시 순서대로 제어
    - Selective Repeat 기법: 에러난 데이터만 재전송하고, 그 전에 받았던 순서가 잘못된 데이터 버퍼를 재정렬하여 제어

### 3. 혼잡 제어 (Congestion Control)
- 네트워크 혼잡 상태가 감지되면 송신 측의 전송 데이터 크기를 조절하여 전송량을 조절한다.
- TCP에는 Tahoe, Reno, New Reno, Cubic, Elastic-TCP 등 다양한 혼잡 제어 기법이 존재한다.

## UDP: 사용자 데이터그램 프로토콜
- 대략 TCP는 신뢰성이 높고 느리고, UDP는 신뢰성이 낮고 빠르다는 점이 있다.

|          | TCP       | UDP      |
| -------- | --------- | -------- |
| 연결 방식    | 연결형 서비스   | 비연결형 서비스 |
| 패킷 교환    | 가상 회선 서비스 | 데이터그램 방식 |
| 전송 순서 보장 | 보장함       | 보장하지 않음  |
| 신뢰성      | 높음        | 낮음       |
| 전송 속도    | 느림        | 빠름       |

- UDP는 데이터그램 방식을 사용하는 프로토콜이기에 각각의 패킷 간의 순서가 존재하지 않는 독립적인 패킷을 사용한다.
- 데이터그램 방식은 패킷의 목적지만 정해져있다면 중간 경로는 신경 쓰지 않기 때문에 핸드쉐이크와 같은 연결 설정이 필요 없게 된다.
- UDP는 실시간 영상 스트리밍과 같은 고용량 데이터를 다루는 곳에 이용된다.

### UDP의 통신 확인
- 기존 `netcat` 명령어에 `-u` 옵션을 주면 UDP로 데이터를 송신하게 된다.
